<!DOCTYPE html>
<html>
<head>
    <title>GitHub Activity Monitor</title>
    <style>
        body { font-family: sans-serif; padding: 50px; line-height: 1.6; }
        .event { margin-bottom: 10px; padding: 10px; border-bottom: 1px solid #eee; }
        #log-container { max-width: 800px; margin: 0 auto; }
    </style>
</head>
<body>
    <div id="log-container">
        <h2>Latest GitHub Repo Changes</h2>
        <div id="logs">Loading latest actions...</div>
    </div>

    <script>
        function fetchActions() {
            fetch('/api/actions')
                .then(response => response.json())
                .then(data => {
                    const container = document.getElementById('logs');
                    container.innerHTML = '';
                    
                    data.forEach(item => {
                        let message = "";
                        
                        if (item.action === "PUSH") {
                            message = `"${item.author}" pushed to "${item.to_branch}" on ${item.timestamp}`;
                        } else if (item.action === "PULL_REQUEST") {
                            message = `"${item.author}" submitted a pull request from "${item.from_branch}" to "${item.to_branch}" on ${item.timestamp}`;
                        } else if (item.action === "MERGE") {
                            message = `"${item.author}" merged branch "${item.from_branch}" to "${item.to_branch}" on ${item.timestamp}`;
                        }
                        
                        const div = document.createElement('div');
                        div.className = 'event';
                        div.innerText = message;
                        container.appendChild(div);
                    });
                });
        }

       
        setInterval(fetchActions, 15000);
        fetchActions(); 
    </script>
</body>
</html>